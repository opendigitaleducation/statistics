<style>
	/* Remove default bullets */
	ul {
		list-style-type: none;
	}

	/* Style the caret/arrow */
	.caret {
		cursor: pointer;
		user-select: none; /* Prevent text selection */
	}

	/* Create the caret/arrow with a unicode, and style it */
	.caret::before {
		content: "\25B6";
		color: black;
		display: inline-block;
		margin-right: 6px;
	}

	/* Rotate the caret/arrow icon when clicked on (using JavaScript) */
	.caret-down::before {
		transform: rotate(90deg);
	}

	/* Hide the nested list */
	.nested {
		display: none;
	}

	/* Show the nested list when the user clicks on the caret/arrow (with JavaScript) */
	.active {
		display: block;
	}
</style>

<article class="list-view" style="border: none;">
    <div ng-if="scopeEntity.current">[[scopeEntity.current.name]]</div>
    
    <structure-tree items="structuresTree" select="selectEntityAndOpenIndicator(id, currentIndicator)"></structure-tree>
            
    <!-- Indicator list -->
    <section class="vertical four cell" ng-if="scopeEntity.current">
		<nav class="vertical">
			<ul>
				<li ng-repeat="indicator in indicators" class="indicator-list-box">
                    <a ng-click="openIndicator(indicator)" style="margin: 0px 0px 5px 0px" ng-class="{ selected: currentIndicator === indicator }">
                        <h1 class="indicator-number">[[getAggregatedValue(indicator, scopeEntity.current)]]</h1>
    					<div class="indicator-name">[[lang.translate(indicator.name)]]</div>
                        <div class="indicator-since"><i18n>stats.since</i18n> [[lang.translate(indicator.since)]]</div>
                    </a>
				</li>
			</ul>
		</nav>
	</section>

    <!-- Actual chart -->
    <section class="charts-section eight cell" ng-show="currentIndicator">
        <!-- For line charts - menu to group by duration (day / week / month) -->
        <div class="chart-granularity-container right-magnet" ng-if="currentIndicator.chartType === 'line'">
            <div>[[lang.translate('stats.groupBy')]] :</div>
            <div ng-repeat="frequency in currentIndicator.chartFrequencies">
                <input type="radio" ng-model="currentIndicator.frequency" value="[[frequency]]" ng-change="openIndicator(currentIndicator)">
                <label>[[lang.translate('stats.'+frequency)]]</label>
            </div>
        </div>

        <!-- Information -->
        <h2>[[lang.translate(currentIndicator.chartTitle)]]</h2>

        <!-- Specific to profile bar charts, group by profile -->
        <div class="chart-profilecriteria-container" ng-if="currentIndicator.name === 'stats.mostUsedTool'">
            <div ng-repeat="profile in currentIndicator.chartProfiles">
                <input type="radio" ng-model="currentIndicator.chartProfile" value="[[profile]]" ng-change="openIndicator(currentIndicator)">
                <label>[[lang.translate('stats.'+profile.toLowerCase())]]</label>
            </div>
        </div>

        <!-- Chart container -->
        <div style="text-align: center">
            <canvas id="chart" width="600" height="400"></canvas>
            <!-- h5 class="legend-title">[[lang.translate("stats.legendTitle")]]</h5>
            <div id="chart-legend-container"></div-->
        </div>
    </section>

</article>
